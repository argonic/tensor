!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e){(function(e){t.exports={mode:"development",devtool:"inline-source-map",entry:"./src/tensor.ts",watch:!0,output:{path:e,filename:"build/tensor.js"},resolve:{extensions:[".ts",".tsx",".js"]},module:{rules:[{test:/\.tsx?$/,use:[{loader:"expose-loader",options:"Tensor"},{loader:"ts-loader"}]}]}}}).call(this,"/")},function(t,e,n){var r=n(0);r.devtool=!1,r.mode="production",r.watch=!1,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(this.tensorFilled=!1,this.tensorFill=0,this.tensorDimensions=0,this.tensorStrides=[],this.tensorMax=void 0,this.tensorMin=void 0,1===e.length&&Array.isArray(e[0])&&(e=e[0]),0===e.length)throw new Error("Cannot create zero dimensions tensors");for(var r=0,o=e;r<o.length;r++){var i=o[r];if("number"!=typeof i||i<1||i%1!=0)throw new Error("shape must consist of natural integers")}this.tensorType=t,this.process(e)}return Object.defineProperty(t.prototype,"max",{get:function(){return this.tensorMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.tensorMin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.tensorLength},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.tensorType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strides",{get:function(){return this.tensorStrides},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this.tensorDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filling",{get:function(){return this.tensorFill},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filled",{get:function(){return this.tensorFilled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){return this.tensorShape},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"T",{get:function(){return this.transpose()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){for(var t=[],e=this.tensorDimensions-1,n=this.flat,r=0;r<this.tensorLength;r++)for(var o=this.coordinates(r),i=t,s=0;s<o.length;s++){var h=o[s];"object"==typeof i[h]||(i[h]=[],s!==e)?i=i[h]:i[h]=n[r]}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"flat",{get:function(){return this.tensorFilled||(this.tensorFlat=this.getTypedArray(),this.tensorFlat=this.tensorFlat.fill(this.tensorFill),this.tensorFilled=!0),this.tensorFlat},set:function(t){if(t.constructor!==this.flat.constructor)throw new Error("copying from a different TypedArray type is forbidden");if(t.length!==this.tensorLength)throw new Error("supplied array's length doesn't match with tensor's length");this.tensorFlat=t.slice(),this.tensorMin=t.reduce(function(t,e){return Math.min(t,e)}),this.tensorMax=t.reduce(function(t,e){return Math.max(t,e)})},enumerable:!0,configurable:!0}),t.prototype.copy=function(e,n){return void 0===n&&(n=!1),n?(new(t.bind.apply(t,[void 0,e.type].concat(e.shape)))).copy(e):(e.filled?this.tensorFlat=e.flat.slice():this.tensorFlat=null,this.tensorShape=e.shape.slice(),this.tensorStrides=e.strides.slice(),this.tensorLength=e.length,this.tensorDimensions=e.dimensions,this.tensorFill=e.filling,this.tensorFilled=e.filled,this.tensorType=e.type,this.tensorMax=e.max,this.tensorMin=e.min,this)},t.prototype.transpose=function(e){if(void 0===e&&(e=null),null===e){for(var n=[],r=0;r<this.tensorDimensions;r++)n.push(r);e=n.reverse()}var o=[];for(r=0;r<e.length;r++)o[r]=this.tensorShape[e[r]];var i=new(t.bind.apply(t,[void 0,this.tensorType].concat(o))),s=this.getTypedArray(),h=this.flat;for(r=0;r<this.tensorLength;r++){for(var l=this.coordinates(r),a=[],u=0;u<l.length;u++)a[e[u]]=l[u];s[i.index.apply(i,a)]=h[r]}return i.flat=s,i},t.prototype.fill=function(t){if("function"==typeof t){this.tensorFilled=!0,this.tensorFill=null,this.tensorFlat=this.getTypedArray();for(var e=0;e<this.tensorLength;e++){var n=t();this.tensorFlat[e]=n,this.tensorMax=void 0===this.tensorMax?n:Math.max(this.tensorMax,n),this.tensorMin=void 0===this.tensorMin?n:Math.min(this.tensorMin,n)}}else this.tensorFilled=!1,this.tensorFill=t,this.tensorFlat=null,this.tensorMin=t,this.tensorMax=t;return this},t.prototype.coordinates=function(t){for(var e=[],n=t,r=0;r<this.tensorShape.length;r++){var o=Math.floor(n/this.tensorStrides[r]);n-=o*this.tensorStrides[r],e[r]=o}return e},t.prototype.index=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return t[0];if(t.length!==this.tensorDimensions)throw new Error("expected exactly "+this.tensorDimensions+" coordinates, got "+t.length+" coordinates instead");for(var n=0,r=0;r<t.length;r++)n+=t[r]*this.tensorStrides[r];return n},t.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.flat[this.index.apply(this,t)]},t.prototype.set=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.flat,o=this.index.apply(this,e),i=r[o];return i===this.tensorMax&&t>i&&(this.tensorMax=t),i===this.tensorMin&&t<i&&(this.tensorMin=t),r[o]=t,this.tensorFlat=r,this},t.prototype.process=function(t){this.tensorShape=t,this.tensorLength=t.reduce(function(t,e){return t*e}),this.tensorDimensions=t.length,this.tensorStrides=[];for(var e=this.tensorShape.length-1;e>=0;e--){var n=this.tensorStrides[e+1],r=e===this.tensorShape.length-1?1:this.tensorShape[e+1];n=void 0===n?1:n,this.tensorStrides[e]=r*n}},t.prototype.getTypedArray=function(){return new this.tensorType(this.length)},t}();e.default=r},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=e.Tensor=n(2)}).call(this,n(3))},function(t,e,n){n(4),t.exports=n(1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vd2VicGFjay5jb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vd2VicGFjay5jb25maWcucHJvZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVuc29yLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RlbnNvci50cy1leHBvc2VkIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX2Rpcm5hbWUiLCJtb2RlIiwiZGV2dG9vbCIsImVudHJ5Iiwid2F0Y2giLCJvdXRwdXQiLCJwYXRoIiwiZmlsZW5hbWUiLCJyZXNvbHZlIiwiZXh0ZW5zaW9ucyIsInJ1bGVzIiwidGVzdCIsInVzZSIsImxvYWRlciIsIm9wdGlvbnMiLCJjb25maWciLCJUZW5zb3IiLCJ0eXBlIiwic2hhcGUiLCJfaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInRoaXMiLCJ0ZW5zb3JGaWxsZWQiLCJ0ZW5zb3JGaWxsIiwidGVuc29yRGltZW5zaW9ucyIsInRlbnNvclN0cmlkZXMiLCJ0ZW5zb3JNYXgiLCJ1bmRlZmluZWQiLCJ0ZW5zb3JNaW4iLCJBcnJheSIsImlzQXJyYXkiLCJFcnJvciIsIl9hIiwic2hhcGVfMSIsIml0ZW0iLCJ0ZW5zb3JUeXBlIiwicHJvY2VzcyIsInRlbnNvckxlbmd0aCIsInRlbnNvclNoYXBlIiwidHJhbnNwb3NlIiwib3V0IiwibGFzdCIsImZsYXQiLCJpbmRleCIsImluZGV4ZXMiLCJjb29yZGluYXRlcyIsIm5vZGUiLCJwb3MiLCJ0ZW5zb3JGbGF0IiwiZ2V0VHlwZWRBcnJheSIsImZpbGwiLCJhcnJheSIsImNvbnN0cnVjdG9yIiwic2xpY2UiLCJyZWR1Y2UiLCJhIiwiYiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJjb3B5IiwidGVuc29yIiwiaW5zdGFuaWF0ZSIsImJpbmQiLCJhcHBseSIsImNvbmNhdCIsImZpbGxlZCIsInN0cmlkZXMiLCJkaW1lbnNpb25zIiwiZmlsbGluZyIsImF4ZXMiLCJwdXNoIiwicmV2ZXJzZSIsIm5ld1NoYXBlIiwic291cmNlIiwiaW52ZXJ0Iiwib3JkZXJlZCIsImoiLCJ2IiwicmVzdCIsImRpdiIsImZsb29yIiwic2V0Iiwib2xkIiwicHJldiIsImN1cnJlbnQiLCJsZW5ndGhfMSIsImciLCJGdW5jdGlvbiIsImV2YWwiLCJlIiwid2luZG93IiwiZ2xvYmFsIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlq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LEVBQUdBLElBQUssQ0FDbkQsSUFBSThHLEVBQU8vRCxLQUFLSSxjQUFjbkQsRUFBSSxHQUM1QmdILEVBQVNoSCxJQUFNK0MsS0FBS2lCLFlBQVlsQixPQUFTLEVBQUksRUFBSUMsS0FBS2lCLFlBQVloRSxFQUFJLEdBQzVFOEcsT0FBZ0J6RCxJQUFUeUQsRUFBcUIsRUFBSUEsRUFFaEMvRCxLQUFLSSxjQUFjbkQsR0FBS2dILEVBQVNGLElBR2pDckUsRUFBQXBCLFVBQUFzRCxjQUFSLFdBQ0ksT0FBTyxJQUFLNUIsS0FBZSxXQUFFQSxLQUFLRCxTQUUxQ0wsRUF0V0EsOEJDVkEsSUFBQXdFLEVBR0FBLEVBQUEsV0FDQSxPQUFBbEUsS0FEQSxHQUlBLElBRUFrRSxLQUFBQyxTQUFBLGNBQUFBLEtBQUEsRUFBQUMsTUFBQSxRQUNDLE1BQUFDLEdBRUQsaUJBQUFDLFNBQUFKLEVBQUFJLFFBT0F0SCxFQUFBRCxRQUFBbUgsb0JDbkJBLFNBQUFLLEdBQUF2SCxFQUFBRCxRQUFBd0gsRUFBQSxPQUFvQzFILEVBQVEiLCJmaWxlIjoiYnVpbGQvdGVuc29yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG1vZGU6ICdkZXZlbG9wbWVudCcsXG4gICAgZGV2dG9vbDogJ2lubGluZS1zb3VyY2UtbWFwJyxcbiAgICBlbnRyeTogJy4vc3JjL3RlbnNvci50cycsXG4gICAgd2F0Y2g6IHRydWUsXG4gICAgb3V0cHV0OiB7XG4gICAgICAgIHBhdGg6IF9fZGlybmFtZSAsXG4gICAgICAgIGZpbGVuYW1lOiAnYnVpbGQvdGVuc29yLmpzJ1xuICAgIH0sXG4gICAgcmVzb2x2ZToge1xuICAgICAgICBleHRlbnNpb25zOiBbJy50cycsICcudHN4JywgJy5qcyddXG4gICAgfSxcbiAgICBtb2R1bGU6IHtcbiAgICAgICAgcnVsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXN0OiAvXFwudHN4PyQvLFxuICAgICAgICAgICAgICAgIHVzZTogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXI6ICdleHBvc2UtbG9hZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6ICdUZW5zb3InXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlcjogJ3RzLWxvYWRlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH1cbn0iLCJ2YXIgY29uZmlnID0gcmVxdWlyZShcIi4vd2VicGFjay5jb25maWcuanNcIik7XG4gICAgY29uZmlnLmRldnRvb2wgPSBmYWxzZTtcbiAgICBjb25maWcubW9kZSA9IFwicHJvZHVjdGlvblwiO1xuICAgIGNvbmZpZy53YXRjaCA9IGZhbHNlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbmZpZzsiLCJ0eXBlIFR5cGVkQXJyYXkgPSBVaW50OEFycmF5IHxcbiAgICBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5IHwgSW50OEFycmF5IHxcbiAgICBJbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IEZsb2F0MzJBcnJheSB8XG4gICAgRmxvYXQ2NEFycmF5O1xuXG50eXBlIFR5cGVkQXJyYXlDb25zdHJ1Y3RvciA9IFVpbnQ4QXJyYXlDb25zdHJ1Y3RvciB8XG4gICAgVWludDE2QXJyYXlDb25zdHJ1Y3RvciB8IFVpbnQzMkFycmF5Q29uc3RydWN0b3IgfCBJbnQ4QXJyYXlDb25zdHJ1Y3RvciB8XG4gICAgSW50MTZBcnJheUNvbnN0cnVjdG9yIHwgSW50MzJBcnJheUNvbnN0cnVjdG9yIHwgRmxvYXQzMkFycmF5Q29uc3RydWN0b3IgfFxuICAgIEZsb2F0NjRBcnJheUNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZW5zb3Ige1xuICAgIHByaXZhdGUgdGVuc29yVHlwZTogVHlwZWRBcnJheUNvbnN0cnVjdG9yO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwcml2YXRlIHRlbnNvclNoYXBlOiBudW1iZXJbXTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHJpdmF0ZSB0ZW5zb3JMZW5ndGg6IG51bWJlcjtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcHJpdmF0ZSB0ZW5zb3JGbGF0OiBUeXBlZEFycmF5O1xuXG4gICAgcHJpdmF0ZSB0ZW5zb3JGaWxsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgdGVuc29yRmlsbDogbnVtYmVyID0gMDtcblxuICAgIHByaXZhdGUgdGVuc29yRGltZW5zaW9uczogbnVtYmVyID0gMDtcblxuICAgIHByaXZhdGUgdGVuc29yU3RyaWRlczogbnVtYmVyW10gPSBbXTtcblxuICAgIHByaXZhdGUgdGVuc29yTWF4PzogbnVtYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgcHJpdmF0ZSB0ZW5zb3JNaW4/OiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogVGVuc29yJ3MgY29uc3RydWN0b3JcbiAgICAgKiBfX19fX19cbiAgICAgKiBAcGFyYW0gc2hhcGVcbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IodHlwZTogVHlwZWRBcnJheUNvbnN0cnVjdG9yLCAuLi5zaGFwZTogYW55W10pIHtcbiAgICAgICAgaWYgKHNoYXBlLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KHNoYXBlWzBdKSkge1xuICAgICAgICAgICAgKHNoYXBlIGFzIG51bWJlcltdKSA9IHNoYXBlWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgemVybyBkaW1lbnNpb25zIHRlbnNvcnNcIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHNoYXBlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gIT09IFwibnVtYmVyXCIgfHwgaXRlbSA8IDEgfHwgaXRlbSAlIDEgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaGFwZSBtdXN0IGNvbnNpc3Qgb2YgbmF0dXJhbCBpbnRlZ2Vyc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRlbnNvclR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb2Nlc3Moc2hhcGUgYXMgbnVtYmVyW10pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZW5zb3IncyBtYXggdmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IG1heCgpOiBudW1iZXIge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiB0aGlzLnRlbnNvck1heDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVuc29yJ3MgbWluIHZhbHVlXG4gICAgICovXG4gICAgcHVibGljIGdldCBtaW4oKTogbnVtYmVyIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gdGhpcy50ZW5zb3JNaW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlbnNvcidzIGxlbmd0aFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbnNvckxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVuc29yJ3MgdHlwZVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgdHlwZSgpOiBUeXBlZEFycmF5Q29uc3RydWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy50ZW5zb3JUeXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZW5zb3IncyBzdHJpZGVzXG4gICAgICovXG4gICAgcHVibGljIGdldCBzdHJpZGVzKCk6IG51bWJlcltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVuc29yU3RyaWRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVuc29yJ3MgZGltZW5zaW9uc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgZGltZW5zaW9ucygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW5zb3JEaW1lbnNpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZW5zb3IncyBmaWxsaW5nXG4gICAgICovXG4gICAgcHVibGljIGdldCBmaWxsaW5nKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbnNvckZpbGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlbnNvcidzIGZpbGxlZFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgZmlsbGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW5zb3JGaWxsZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlbnNvcidzIHNoYXBlXG4gICAgICovXG4gICAgcHVibGljIGdldCBzaGFwZSgpOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbnNvclNoYXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZW5zb3IncyB0cmFuc3Bvc2VcbiAgICAgKiBfX19fX1xuICAgICAqXG4gICAgICogQWxpYXMgb2YgVGVuc29yLnRyYW5zcG9zZSgpXG4gICAgICovXG4gICAgcHVibGljIGdldCBUKCk6IFRlbnNvciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZW5zb3IncyBOLURpbWVuc2lvbmFsIGFycmF5XG4gICAgICovXG4gICAgcHVibGljIGdldCBhcnJheSgpOiBudW1iZXJbXSB7XG4gICAgICAgIGNvbnN0IG91dDogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgY29uc3QgbGFzdCA9ICh0aGlzLnRlbnNvckRpbWVuc2lvbnMgLSAxKTtcbiAgICAgICAgY29uc3QgZmxhdCA9IHRoaXMuZmxhdDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudGVuc29yTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleGVzID0gdGhpcy5jb29yZGluYXRlcyhpbmRleCk7XG4gICAgICAgICAgICBsZXQgbm9kZTogYW55ID0gb3V0O1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gaW5kZXhlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5vZGVbcG9zXSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBub2RlW3Bvc10gPSBbXTsgLy8gY3JlYXRlIG5ldyBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGxhc3QpIHsgLy8gd2UgYXJlIGluIHRoZSBsYXN0IGRpbWVuc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVtwb3NdID0gZmxhdFtpbmRleF07IC8vIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlW3Bvc107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVuc29yJ3MgZ2V0IGZsYXQgMUQgYXJyYXlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGZsYXQoKTogVHlwZWRBcnJheSB7XG4gICAgICAgIGlmICghdGhpcy50ZW5zb3JGaWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMudGVuc29yRmxhdCA9IHRoaXMuZ2V0VHlwZWRBcnJheSgpO1xuICAgICAgICAgICAgdGhpcy50ZW5zb3JGbGF0ID0gdGhpcy50ZW5zb3JGbGF0LmZpbGwodGhpcy50ZW5zb3JGaWxsKTtcbiAgICAgICAgICAgIHRoaXMudGVuc29yRmlsbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50ZW5zb3JGbGF0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZW5zb3IncyB1cGRhdGUgZmxhdCBhcnJheVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQgZmxhdChhcnJheTogVHlwZWRBcnJheSkge1xuICAgICAgICBpZiAoYXJyYXkuY29uc3RydWN0b3IgIT09IHRoaXMuZmxhdC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29weWluZyBmcm9tIGEgZGlmZmVyZW50IFR5cGVkQXJyYXkgdHlwZSBpcyBmb3JiaWRkZW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCAhPT0gdGhpcy50ZW5zb3JMZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInN1cHBsaWVkIGFycmF5J3MgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggd2l0aCB0ZW5zb3IncyBsZW5ndGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW5zb3JGbGF0ID0gYXJyYXkuc2xpY2UoKTtcbiAgICAgICAgdGhpcy50ZW5zb3JNaW4gPSBhcnJheS5yZWR1Y2UoKGEsIGIpID0+IE1hdGgubWluKGEsIGIpKTtcbiAgICAgICAgdGhpcy50ZW5zb3JNYXggPSBhcnJheS5yZWR1Y2UoKGEsIGIpID0+IE1hdGgubWF4KGEsIGIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSBUZW5zb3JcbiAgICAgKiBfX19fX1xuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBkb2VzIGNvcHkgYSB0ZW5zb3IgdG8gYW5vdGhlciB0ZW5zb3Igd2l0aG91dCBpbnN0YW5pYXRpbmcgYSBuZXcgdGVuc29yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGVuc29yXG4gICAgICogQHJldHVybiBUZW5zb3JcbiAgICAgKi9cbiAgICBwdWJsaWMgY29weSh0ZW5zb3I6IFRlbnNvciwgaW5zdGFuaWF0ZTogYm9vbGVhbiA9IGZhbHNlKTogVGVuc29yIHtcbiAgICAgICAgaWYgKGluc3RhbmlhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGVuc29yKHRlbnNvci50eXBlLCAuLi50ZW5zb3Iuc2hhcGUpLmNvcHkodGVuc29yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVuc29yLmZpbGxlZCkge1xuICAgICAgICAgICAgdGhpcy50ZW5zb3JGbGF0ID0gdGVuc29yLmZsYXQuc2xpY2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMudGVuc29yRmxhdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW5zb3JTaGFwZSA9IFsuLi50ZW5zb3Iuc2hhcGVdO1xuICAgICAgICB0aGlzLnRlbnNvclN0cmlkZXMgPSBbLi4udGVuc29yLnN0cmlkZXNdO1xuICAgICAgICB0aGlzLnRlbnNvckxlbmd0aCA9IHRlbnNvci5sZW5ndGg7XG4gICAgICAgIHRoaXMudGVuc29yRGltZW5zaW9ucyA9IHRlbnNvci5kaW1lbnNpb25zO1xuICAgICAgICB0aGlzLnRlbnNvckZpbGwgPSB0ZW5zb3IuZmlsbGluZztcbiAgICAgICAgdGhpcy50ZW5zb3JGaWxsZWQgPSB0ZW5zb3IuZmlsbGVkO1xuICAgICAgICB0aGlzLnRlbnNvclR5cGUgPSB0ZW5zb3IudHlwZTtcbiAgICAgICAgdGhpcy50ZW5zb3JNYXggPSB0ZW5zb3IubWF4O1xuICAgICAgICB0aGlzLnRlbnNvck1pbiA9IHRlbnNvci5taW47XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZW5zb3IncyB0cmFuc3Bvc2VcbiAgICAgKiBfX19fX19cbiAgICAgKlxuICAgICAqIEl0IGRvZXMgcmV0dXJuIGEgbmV3IHRyYW5zcG9zZSBUZW5zb3JcbiAgICAgKiBpZiBheGVzIGlzIG51bGwgdGhlIGZ1bmN0aW9uIHdpbGwgYmFjayByZXZlcnNlIGFsbCBkaW1lbnNpb25zXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXhlc1xuICAgICAqIEByZXR1cm4gVGVuc29yXG4gICAgICovXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHB1YmxpYyB0cmFuc3Bvc2UoYXhlczogbnVtYmVyW10gPSBudWxsKTogVGVuc29yIHtcbiAgICAgICAgaWYgKGF4ZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50ZW5zb3JEaW1lbnNpb25zOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBheGVzID0gYS5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3U2hhcGU6IG51bWJlcltdID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3U2hhcGVbaV0gPSB0aGlzLnRlbnNvclNoYXBlW2F4ZXNbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRlbnNvciA9IG5ldyBUZW5zb3IodGhpcy50ZW5zb3JUeXBlLCAuLi5uZXdTaGFwZSk7XG4gICAgICAgIGNvbnN0IGZsYXQgPSB0aGlzLmdldFR5cGVkQXJyYXkoKTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5mbGF0O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGVuc29yTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGludmVydCA9IHRoaXMuY29vcmRpbmF0ZXMoaSk7XG4gICAgICAgICAgICBjb25zdCBvcmRlcmVkID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGludmVydC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIG9yZGVyZWRbYXhlc1tqXV0gPSBpbnZlcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRlbnNvci5pbmRleCguLi5vcmRlcmVkKTtcbiAgICAgICAgICAgIGZsYXRbaW5kZXhdID0gc291cmNlW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRlbnNvci5mbGF0ID0gZmxhdDtcbiAgICAgICAgcmV0dXJuIHRlbnNvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlsbCB0aGUgVGVuc29yXG4gICAgICogX19fX19cbiAgICAgKlxuICAgICAqIHZhbHVlIGNhbiBiZSBhIG51bWJlciBvciBhIGNhbGxhYmxlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIG51bWJlclxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBmaWxsKHZhbHVlOiAoKCkgPT4gbnVtYmVyKSB8IG51bWJlcik6IFRlbnNvciB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy50ZW5zb3JGaWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy50ZW5zb3JGaWxsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudGVuc29yRmxhdCA9IHRoaXMuZ2V0VHlwZWRBcnJheSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudGVuc29yTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IHZhbHVlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW5zb3JGbGF0W2luZGV4XSA9IHY7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW5zb3JNYXggPSB0eXBlb2YgdGhpcy50ZW5zb3JNYXggPT09IFwidW5kZWZpbmVkXCIgPyB2IDogTWF0aC5tYXgodGhpcy50ZW5zb3JNYXgsIHYpO1xuICAgICAgICAgICAgICAgIHRoaXMudGVuc29yTWluID0gdHlwZW9mIHRoaXMudGVuc29yTWluID09PSBcInVuZGVmaW5lZFwiID8gdiA6IE1hdGgubWluKHRoaXMudGVuc29yTWluLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGVuc29yRmlsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRlbnNvckZpbGwgPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMudGVuc29yRmxhdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRlbnNvck1pbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy50ZW5zb3JNYXggPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFuIGluZGV4J3MgY29vcmRpbmF0ZXNcbiAgICAgKiBfX19fX19cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAqL1xuICAgIHB1YmxpYyBjb29yZGluYXRlcyhpbmRleDogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgICAgICBjb25zdCBpbmRleGVzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBsZXQgcmVzdCA9IGluZGV4O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGVuc29yU2hhcGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IE1hdGguZmxvb3IocmVzdCAvIHRoaXMudGVuc29yU3RyaWRlc1tpXSk7XG4gICAgICAgICAgICByZXN0IC09IGRpdiAqIHRoaXMudGVuc29yU3RyaWRlc1tpXTtcbiAgICAgICAgICAgIGluZGV4ZXNbaV0gPSBkaXY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBjb29yZGluYXRlcycgaW5kZXhcbiAgICAgKiBfX19fX19cbiAgICAgKlxuICAgICAqIElmIG9ubHkgb25lIGNvb3JkaW5hdGUgaXMgc3VwcGxpZWQsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgc2FtZSBjb29yZGluYXRlXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleGVzXG4gICAgICovXG4gICAgcHVibGljIGluZGV4KC4uLmNvb3JkaW5hdGVzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjb29yZGluYXRlc1swXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoICE9PSB0aGlzLnRlbnNvckRpbWVuc2lvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgZXhwZWN0ZWQgZXhhY3RseSAke3RoaXMudGVuc29yRGltZW5zaW9uc30gY29vcmRpbmF0ZXMsIGdvdCAke2Nvb3JkaW5hdGVzLmxlbmd0aH0gY29vcmRpbmF0ZXMgaW5zdGVhZGApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW5kZXggKz0gY29vcmRpbmF0ZXNbaV0gKiB0aGlzLnRlbnNvclN0cmlkZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgY29vcmRpbmF0ZXMnIHZhbHVlXG4gICAgICogX19fX19cbiAgICAgKlxuICAgICAqIElmIG9ubHkgb25lIGNvb3JkaW5hdGUgaXMgc3VwcGxpZWQsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBpbmRleCdzIHZhbHVlIGluc3RlYWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXQoLi4uY29vcmRpbmF0ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdFt0aGlzLmluZGV4KC4uLmNvb3JkaW5hdGVzKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBjb29yZGluYXRlcycgdmFsdWVcbiAgICAgKiBfX19fX1xuICAgICAqXG4gICAgICogSWYgb25seSBvbmUgY29vcmRpbmF0ZSBpcyBzdXBwbGllZCwgdGhpcyBmdW5jdGlvbiBzZXRzIGluZGV4J3MgdmFsdWUgaW5zdGVhZFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgcHVibGljIHNldCh2YWx1ZTogbnVtYmVyLCAuLi5jb29yZGluYXRlczogbnVtYmVyW10pOiBUZW5zb3Ige1xuICAgICAgICBjb25zdCBmbGF0ID0gdGhpcy5mbGF0O1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXgoLi4uY29vcmRpbmF0ZXMpO1xuICAgICAgICBjb25zdCBvbGQgPSBmbGF0W2luZGV4XTtcbiAgICAgICAgaWYgKG9sZCA9PT0gdGhpcy50ZW5zb3JNYXggJiYgdmFsdWUgPiBvbGQpIHtcbiAgICAgICAgICAgIHRoaXMudGVuc29yTWF4ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZCA9PT0gdGhpcy50ZW5zb3JNaW4gJiYgdmFsdWUgPCBvbGQpIHtcbiAgICAgICAgICAgIHRoaXMudGVuc29yTWluID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZmxhdFtpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy50ZW5zb3JGbGF0ID0gZmxhdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2NjZXNzIHNoYXBlXG4gICAgICogX19fX19fXG4gICAgICpcbiAgICAgKiBJdCBjb25zdW1lcyB0aGUgc2hhcGUgdG86XG4gICAgICpcbiAgICAgKiAtIGNhbGN1bGF0ZSB0ZW5zb3IncyBsZW5ndGg6IHRoZSBwcm9kdWN0IG9mIGVhY2ggZGltZW5zaW9uJ3MgZGVwdGhcbiAgICAgKiAtIGNhbGN1bGF0ZSB0ZW5zb3IncyBkaW1lbnNpb25zL3Jhbms6IHRoZSBjb3VudCBvZiBkaW1lbnNpb25zXG4gICAgICogLSBjYWxjdWxhdGUgZWFjaCBkaW1lbnNpb24ncyBzdHJpZGVcbiAgICAgKlxuICAgICAqIERpbWVuc2lvbidzIHN0cmlkZSBhcmUgaGVscGZ1bCB0byBjYWxjdWxhdGUgY29vcmRpbmF0ZXMgZnJvbSBpbmRpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2hhcGVcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBwcml2YXRlIHByb2Nlc3Moc2hhcGU6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICAgIHRoaXMudGVuc29yU2hhcGUgPSBzaGFwZTtcbiAgICAgICAgdGhpcy50ZW5zb3JMZW5ndGggPSBzaGFwZS5yZWR1Y2UoKHByZXY6IG51bWJlciwgY3VycmVudDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcHJldiAqIGN1cnJlbnQ7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRlbnNvckRpbWVuc2lvbnMgPSBzaGFwZS5sZW5ndGg7XG4gICAgICAgIHRoaXMudGVuc29yU3RyaWRlcyA9IFtdO1xuICAgICAgICAvLyB0byBjYWxjdWxhdGUgc3RyaWRlcywgc3RhcnQgZnJvbSB0aGUgZW5kXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnRlbnNvclNoYXBlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgcHJldiA9IHRoaXMudGVuc29yU3RyaWRlc1tpICsgMV07IC8vIGdldCBuZXh0IGRpbWVuc2lvbidzIHN0cmlkZVxuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gaSA9PT0gdGhpcy50ZW5zb3JTaGFwZS5sZW5ndGggLSAxID8gMSA6IHRoaXMudGVuc29yU2hhcGVbaSArIDFdOyAvLyBuZXh0IGRpbWVuc2lvbidzIGxlbmd0aFxuICAgICAgICAgICAgcHJldiA9IHByZXYgPT09IHVuZGVmaW5lZCA/IDEgOiBwcmV2OyAvLyBkZWZhdWx0IGxlbmd0aCBpcyAxXG4gICAgICAgICAgICAvLyBkaW1lbnNpb24ncyBzdHJpZGUgPSAobmV4dCBkaW1lbnNpb24ncyBzdHJpZGUgKiBuZXh0IGRpbWVuc2lvbidzIGxlbmd0aClcbiAgICAgICAgICAgIHRoaXMudGVuc29yU3RyaWRlc1tpXSA9IGxlbmd0aCAqIHByZXY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJpdmF0ZSBnZXRUeXBlZEFycmF5KCk6IFR5cGVkQXJyYXkge1xuICAgICAgICByZXR1cm4gbmV3ICh0aGlzLnRlbnNvclR5cGUpKHRoaXMubGVuZ3RoKTtcbiAgICB9XG59XG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiVGVuc29yXCJdID0gcmVxdWlyZShcIi0hL2hvbWUvYXJnb25pYy9EZXNrdG9wL1Byb2plY3RzL3RlbnNvci9ub2RlX21vZHVsZXMvdHMtbG9hZGVyL2luZGV4LmpzIS4vdGVuc29yLnRzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=